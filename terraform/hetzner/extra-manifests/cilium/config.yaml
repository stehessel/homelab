apiVersion: helm.cattle.io/v1
kind: HelmChartConfig
metadata:
  name: cilium
  namespace: kube-system
spec:
  valuesContent: |-
    ipam:
      operator:
        clusterPoolIPv4PodCIDRList:
          - 10.42.0.0/16
        clusterPoolIpv6PodCIDRList:
          - fd42::/48
    devices: eth1

    prometheus:
      enabled: true

    operator:
      prometheus:
        enabled: true
      replicas: 1

    gatewayAPI:
      enable: true
    kubeProxyReplacement: strict

    hubble:
      metrics:
        enableOpenMetrics: true
        enabled: "{dns,drop,tcp,flow,port-distribution,icmp,httpV2:exemplars=true;labelsContext=source_ip,source_namespace,source_workload,destination_ip,destination_namespace,destination_workload,traffic_direction}"
      relay:
        enabled: true
      ui:
        enabled: true
